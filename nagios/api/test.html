<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript">
        $(function() {
            console.log( "ready!" );

            $("button").click(function(){
                var url = "http://localhost:8888/api/v1/hosts";
                var payload = [
                    {
                        "host_name": "localhost",
                        "contacts": "admin",
                        "address": "127.0.0.1",
                        "_graphiteprefix": "io",
                        "is_template": "N",
                        "is_immutable": "N",
                        "template_ids": "2",
                        "service_ids": "3,9,10",
                        "details": {
                            "host_name": "localhost",
                            "address": "127.0.0.1",
                            "contacts": "admin",
                            "_graphiteprefix": "io",
                            "use": "linux-server"
                        }
                    }, {
                        "host_name": "localhost2",
                        "contacts": "admin",
                        "address": "192.168.0.1",
                        "_graphiteprefix": "io",
                        "is_template": "N",
                        "is_immutable": "N",
                        "template_ids": "2",
                        "service_ids": "3,9,10",
                        "details": {
                            "host_name": "localhost2",
                            "address": "192.168.0.1",
                            "contacts": "admin",
                            "_graphiteprefix": "io",
                            "use": "linux-server"
                        }
                    }
                ];
                var data = {payload: payload};
                $.ajax({
                    method: "POST",
                    url: url,
                    data: data
                    // data: JSON.stringify(data)
                    // data: $.toJSON(data)
                })
                .done(function( msg ) {
                    console.log( "success: " + msg );
                })
                .fail(function( msg ) {
                    console.log( "error: " + msg );
                });
            });
        });
    </script>
</head>
<body>
    <button>Send</button>
</body>
</html>
<!--
array:1 [
  0 => {#246
    +"host_name": "localhost"
    +"contacts": "admin"
    +"address": "127.0.0.1"
    +"_graphiteprefix": "io"
    +"is_template": "N"
    +"is_immutable": "N"
    +"template_ids": "2"
    +"service_ids": "3,9,10"
    +"details": array:5 [
      "host_name" => "localhost"
      "address" => "127.0.0.1"
      "contacts" => "admin"
      "_graphiteprefix" => "io"
      "use" => "linux-server"
    ]
  }
-->  
]